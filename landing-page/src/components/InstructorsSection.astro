---
import { urlFor } from "../lib/sanity";

const { instructors, title, subtitle } = Astro.props;
---

<section id="instructors" class="py-24 bg-stone-50 relative overflow-hidden">
    <div class="max-w-7xl mx-auto px-6 relative z-10">
        <div class="text-center mb-16">
            <span class="text-gold-600 font-bold uppercase tracking-widest text-xs">{subtitle || 'Dewan Pengajar'}</span>
            <h2 class="text-4xl font-display text-royal-900 mt-2">{title || 'Tim Ahli'} <span class="italic text-stone-400">Kami</span></h2>
        </div>

        {instructors && instructors.length > 0 ? (
            <div class="grid md:grid-cols-4 gap-8">
                {instructors.map((instructor: any) => (
                    <div class="group bg-white rounded-[2rem] p-6 shadow-sm hover:shadow-xl transition duration-500 text-center relative overflow-hidden">
                        <div class="w-32 h-32 mx-auto rounded-full overflow-hidden mb-6 border-4 border-stone-100 group-hover:border-gold-400 transition duration-500">
                            {instructor.photo ? (
                                <img src={urlFor(instructor.photo).width(300).height(300).url()} 
                                     alt={instructor.name} 
                                     class="w-full h-full object-cover group-hover:scale-110 transition duration-700" />
                            ) : (
                                <div class="w-full h-full bg-stone-200 flex items-center justify-center text-stone-400">
                                    <span class="text-2xl">?</span>
                                </div>
                            )}
                        </div>
                        <h3 class="text-xl font-display font-bold text-royal-900 mb-1">{instructor.name}</h3>
                        <p class="text-xs text-gold-600 font-bold uppercase tracking-wider mb-4">{instructor.expertises ? instructor.expertises.join(', ') : 'Pengajar'}</p>
                        <p class="text-stone-500 text-sm line-clamp-3 mb-4">{instructor.bio}</p>
                        
                        {instructor.socialLinks && (
                            <div class="flex justify-center gap-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 transform translate-y-2 group-hover:translate-y-0">
                                {instructor.socialLinks.map((social: any) => (
                                    <a href={social.url} target="_blank" rel="noopener noreferrer" class="text-stone-400 hover:text-royal-900">
                                        <i data-lucide={social.platform.toLowerCase()} class="w-4 h-4"></i>
                                    </a>
                                ))}
                            </div>
                        )}
                    </div>
                ))}
            </div>
        ) : (
            <div class="text-center py-12 text-stone-400">
                <p>Data pengajar belum tersedia.</p>
            </div>
        )}
    </div>
</section>
