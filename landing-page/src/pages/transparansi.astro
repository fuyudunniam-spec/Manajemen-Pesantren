---
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
---

<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transparansi Investasi Ilmu | Al-Bisri Royal Education</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Cinzel:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        royal: { 50: '#f0fdf4', 100: '#dcfce7', 800: '#166534', 900: '#14532d', 950: '#052e16' },
                        gold: { 100: '#fef9c3', 400: '#d4af37', 500: '#b4941f', 600: '#8c7318' },
                        paper: '#FAFAF9',
                    },
                    fontFamily: {
                        sans: ['Cormorant Garamond', 'serif'],
                        display: ['Cinzel', 'serif'],
                    },
                    borderRadius: { '4xl': '2.5rem', '5xl': '3rem' }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #FAFAF9;
            color: #1c1917;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem;
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        .font-display {
            font-family: 'Cinzel', serif;
        }

        .royal-pattern {
            background-color: #FAFAF9;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23166534' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2V6h4V4h-4zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .fade-up {
            animation: fadeUp 1s ease-out forwards;
            opacity: 0;
            transform: translateY(30px);
        }

        .delay-100 {
            animation-delay: 0.1s;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-300 {
            animation-delay: 0.3s;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
    </style>
</head>

<body class="antialiased royal-pattern">

    <Navigation />



    <!-- NAVIGATION (Simplified) -->
    

    <!-- HEADER -->
    <header class="bg-royal-900 text-white pt-16 pb-32 relative overflow-hidden rounded-b-[4rem]">
        <div class="absolute inset-0 opacity-10"
            style="background-image: url('https://www.transparenttextures.com/patterns/arabesque.png');"></div>
        <div
            class="absolute top-0 right-0 w-[500px] h-[500px] bg-gold-500/20 rounded-full blur-[100px] translate-x-1/2 -translate-y-1/2">
        </div>

        <div class="max-w-7xl mx-auto px-6 relative z-10 text-center">
            <span class="text-gold-400 font-bold uppercase tracking-[0.2em] text-xs mb-4 block">Akuntabilitas
                Akademis</span>
            <h1 class="text-4xl md:text-6xl font-display mb-6">Laporan Investasi Ilmu</h1>
            <p class="text-royal-200 text-lg max-w-2xl mx-auto font-light">
                Transparansi pengelolaan dana wakaf untuk pengembangan kurikulum, riset, dan beasiswa kader ulama.
            </p>
        </div>
    </header>

    <!-- MAIN DASHBOARD -->
    <main class="max-w-7xl mx-auto px-6 -mt-20 relative z-20 pb-24">

        <!-- Summary Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
            <!-- Total Aset -->
            <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-stone-100 relative overflow-hidden group">
                <div
                    class="absolute top-0 right-0 w-24 h-24 bg-gold-100 rounded-bl-[4rem] -mr-4 -mt-4 transition-transform group-hover:scale-110">
                </div>
                <div class="relative z-10">
                    <p class="text-xs text-stone-500 font-bold uppercase tracking-widest mb-2">Aset Wakaf Produktif</p>
                    <h3 class="text-4xl font-display text-royal-900 mb-2">Rp 12.5 M</h3>
                    <div
                        class="flex items-center gap-2 text-green-600 text-sm font-bold bg-green-50 w-fit px-2 py-1 rounded-lg">
                        <i data-lucide="trending-up" class="w-4 h-4"></i> +18% YoY
                    </div>
                </div>
            </div>

            <!-- Penyaluran -->
            <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-stone-100 relative overflow-hidden group">
                <div
                    class="absolute top-0 right-0 w-24 h-24 bg-royal-100 rounded-bl-[4rem] -mr-4 -mt-4 transition-transform group-hover:scale-110">
                </div>
                <div class="relative z-10">
                    <p class="text-xs text-stone-500 font-bold uppercase tracking-widest mb-2">Dana Beasiswa & Riset</p>
                    <h3 class="text-4xl font-display text-royal-900 mb-2">Rp 4.2 M</h3>
                    <p class="text-sm text-stone-400">Januari - Oktober 2024</p>
                </div>
            </div>

            <!-- Penerima Manfaat -->
            <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-stone-100 relative overflow-hidden group">
                <div
                    class="absolute top-0 right-0 w-24 h-24 bg-stone-100 rounded-bl-[4rem] -mr-4 -mt-4 transition-transform group-hover:scale-110">
                </div>
                <div class="relative z-10">
                    <p class="text-xs text-stone-500 font-bold uppercase tracking-widest mb-2">Kader Dibina</p>
                    <h3 class="text-4xl font-display text-royal-900 mb-2">150 Santri</h3>
                    <p class="text-sm text-stone-400">Jenjang Takhassus & Ma'had Aly</p>
                </div>
            </div>
        </div>

        <!-- CHARTS SECTION -->
        <div class="grid lg:grid-cols-3 gap-8 mb-12">
            <!-- Source of Funds -->
            <div class="bg-white p-8 rounded-[2rem] shadow-sm border border-stone-200">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="font-display text-xl text-royal-900">Komposisi Wakaf</h4>
                    <button class="text-stone-400 hover:text-royal-900"><i data-lucide="more-horizontal"
                            class="w-5 h-5"></i></button>
                </div>
                <div class="chart-container">
                    <canvas id="sourceChart"></canvas>
                </div>
                <div class="mt-6 space-y-3">
                    <div class="flex justify-between text-sm border-b border-stone-100 pb-2">
                        <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-royal-800"></span>
                            Beasiswa Kader</span>
                        <span class="font-bold text-stone-600">50%</span>
                    </div>
                    <div class="flex justify-between text-sm border-b border-stone-100 pb-2">
                        <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-gold-400"></span>
                            Riset & Kurikulum</span>
                        <span class="font-bold text-stone-600">30%</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="flex items-center gap-2"><span class="w-3 h-3 rounded-full bg-stone-400"></span>
                            Infrastruktur</span>
                        <span class="font-bold text-stone-600">20%</span>
                    </div>
                </div>
            </div>

            <!-- Allocation Chart -->
            <div class="lg:col-span-2 bg-white p-8 rounded-[2rem] shadow-sm border border-stone-200">
                <div class="flex justify-between items-center mb-6">
                    <h4 class="font-display text-xl text-royal-900">Grafik Penyaluran Dana Pendidikan</h4>
                    <div class="flex gap-2">
                        <span class="text-xs font-bold text-royal-800 bg-royal-50 px-3 py-1 rounded-full">2024</span>
                    </div>
                </div>
                <div class="w-full h-[350px]">
                    <canvas id="allocationBarChart"></canvas>
                </div>
            </div>
        </div>

        <!-- REALIZATION TRACKER (Bukti Fisik & Akademis) -->
        <div class="mb-12">
            <h4 class="font-display text-2xl text-royal-900 mb-6 flex items-center gap-3">
                <span class="w-2 h-8 bg-gold-400 rounded-full"></span> Realisasi Program Strategis
            </h4>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Project 1 -->
                <div
                    class="bg-white rounded-[2rem] p-6 border border-stone-200 flex gap-6 items-center shadow-sm hover:shadow-md transition">
                    <div class="w-32 h-32 shrink-0 rounded-2xl overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1505664194779-8beaceb93744?q=80&w=200&auto=format&fit=crop"
                            class="w-full h-full object-cover">
                        <div
                            class="absolute bottom-0 left-0 w-full bg-royal-900/80 text-white text-[10px] text-center py-1">
                            80%</div>
                    </div>
                    <div class="flex-1">
                        <h5 class="font-display text-lg text-royal-900 mb-1">Digital Library Center</h5>
                        <p class="text-stone-500 text-sm mb-4">Pengadaan server dan digitalisasi 1.000 kitab kuning.</p>
                        <div class="w-full bg-stone-100 rounded-full h-2.5 mb-2">
                            <div class="bg-gold-400 h-2.5 rounded-full" style="width: 80%"></div>
                        </div>
                        <div class="flex justify-between text-xs font-bold text-stone-400">
                            <span>Dana Terserap: Rp 450 Juta</span>
                            <span>Target Des 2024</span>
                        </div>
                    </div>
                </div>

                <!-- Project 2 -->
                <div
                    class="bg-white rounded-[2rem] p-6 border border-stone-200 flex gap-6 items-center shadow-sm hover:shadow-md transition">
                    <div class="w-32 h-32 shrink-0 rounded-2xl overflow-hidden relative">
                        <img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=200&auto=format&fit=crop"
                            class="w-full h-full object-cover">
                        <div
                            class="absolute bottom-0 left-0 w-full bg-green-600/80 text-white text-[10px] text-center py-1">
                            Selesai</div>
                    </div>
                    <div class="flex-1">
                        <h5 class="font-display text-lg text-royal-900 mb-1">Modul Kurikulum Fiqih</h5>
                        <p class="text-stone-500 text-sm mb-4">Penerbitan 500 eksemplar modul ajar untuk madrasah mitra.
                        </p>
                        <div class="w-full bg-stone-100 rounded-full h-2.5 mb-2">
                            <div class="bg-royal-800 h-2.5 rounded-full" style="width: 100%"></div>
                        </div>
                        <div class="flex justify-between text-xs font-bold text-stone-400">
                            <span>Dana Terserap: Rp 120 Juta</span>
                            <span>100%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- RECENT TRANSACTIONS TABLE -->
        <div class="bg-white rounded-[2.5rem] shadow-xl border border-stone-200 overflow-hidden">
            <div class="p-8 border-b border-stone-100 flex justify-between items-center">
                <h4 class="font-display text-xl text-royal-900">Arus Kas Wakaf</h4>
                <button class="text-xs font-bold text-gold-600 hover:text-royal-900 uppercase tracking-wider">Lihat
                    Semua</button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm text-stone-600">
                    <thead class="bg-stone-50 text-royal-900 font-bold uppercase text-xs tracking-wider">
                        <tr>
                            <th class="px-8 py-4">Tanggal</th>
                            <th class="px-8 py-4">Uraian Transaksi</th>
                            <th class="px-8 py-4">Kategori</th>
                            <th class="px-8 py-4 text-right">Nominal</th>
                            <th class="px-8 py-4 text-center">Status</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-stone-100">
                        <tr class="hover:bg-royal-50/50 transition">
                            <td class="px-8 py-4 font-mono text-stone-500">20 Okt 2024</td>
                            <td class="px-8 py-4 font-bold text-royal-900">Beasiswa Studi S1 Al-Azhar (5 Mahasantri)
                            </td>
                            <td class="px-8 py-4"><span
                                    class="bg-blue-100 text-blue-700 px-2 py-1 rounded-md text-xs font-bold">Beasiswa</span>
                            </td>
                            <td class="px-8 py-4 text-right font-mono font-bold">Rp 150.000.000</td>
                            <td class="px-8 py-4 text-center"><span
                                    class="text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-bold">Tersalurkan</span>
                            </td>
                        </tr>
                        <tr class="hover:bg-royal-50/50 transition">
                            <td class="px-8 py-4 font-mono text-stone-500">18 Okt 2024</td>
                            <td class="px-8 py-4 font-bold text-royal-900">Honor Tim Riset Fiqih Kontemporer</td>
                            <td class="px-8 py-4"><span
                                    class="bg-orange-100 text-orange-700 px-2 py-1 rounded-md text-xs font-bold">Riset</span>
                            </td>
                            <td class="px-8 py-4 text-right font-mono font-bold">Rp 25.000.000</td>
                            <td class="px-8 py-4 text-center"><span
                                    class="text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-bold">Tersalurkan</span>
                            </td>
                        </tr>
                        <tr class="hover:bg-royal-50/50 transition">
                            <td class="px-8 py-4 font-mono text-stone-500">12 Okt 2024</td>
                            <td class="px-8 py-4 font-bold text-royal-900">Server & Maintenance E-Library</td>
                            <td class="px-8 py-4"><span
                                    class="bg-gray-100 text-gray-700 px-2 py-1 rounded-md text-xs font-bold">Infrastruktur</span>
                            </td>
                            <td class="px-8 py-4 text-right font-mono font-bold">Rp 15.000.000</td>
                            <td class="px-8 py-4 text-center"><span
                                    class="text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-bold">Tersalurkan</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    

    <script is:inline>
        // Wait for CDN libraries to load before initializing
        function waitForLib(libName, callback) {
            if (typeof window[libName] !== 'undefined') {
                callback();
            } else {
                setTimeout(() => waitForLib(libName, callback), 100);
            }
        }
        
        // Initialize Lucide icons
        waitForLib('lucide', () => {
            lucide.createIcons();
        });
        
        // Initialize Chart.js charts
        waitForLib('Chart', () => {
            // Source Chart (Updated Labels)
            const ctxSource = document.getElementById('sourceChart')?.getContext('2d');
            if (ctxSource) {
                new Chart(ctxSource, {
                    type: 'doughnut',
                    data: {
                        labels: ['Beasiswa Kader', 'Riset & Kurikulum', 'Infrastruktur'],
                        datasets: [{
                            data: [50, 30, 20],
                            backgroundColor: ['#166534', '#d4af37', '#a8a29e'],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: { legend: { display: false } }
                    }
                });
            }

            // Allocation Bar Chart
            const ctxAlloc = document.getElementById('allocationBarChart')?.getContext('2d');
            if (ctxAlloc) {
                new Chart(ctxAlloc, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt'],
                        datasets: [{
                            label: 'Investasi Pendidikan (Juta Rp)',
                            data: [320, 280, 450, 300, 310, 400, 550, 380, 420, 390],
                            backgroundColor: '#166534',
                            borderRadius: 8,
                            barThickness: 20
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { grid: { borderDash: [5, 5], color: '#f5f5f4' }, ticks: { font: { family: 'Cormorant Garamond' } } },
                            x: { grid: { display: false }, ticks: { font: { family: 'Cormorant Garamond' } } }
                        }
                    }
                });
            }
        });
    </script>


    <Footer />
</body>

</html>
