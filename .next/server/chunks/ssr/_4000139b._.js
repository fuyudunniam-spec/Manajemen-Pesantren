module.exports=[54918,a=>{"use strict";var b=a.i(37936),c=a.i(16349),d=a.i(18558);async function e(a){let b=(0,c.createClient)().from("website_sections").select("*").order("order_index",{ascending:!0});a&&(b=b.eq("page",a));let{data:d,error:e}=await b;if(e)throw Error(e.message);return d}async function f(a){let b=(0,c.createClient)(),{data:d,error:e}=await b.from("website_sections").select("*").eq("id",a).single();if(e)throw Error(e.message);return d}async function g(a,b){let e=(0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)throw Error("Unauthorized");let{error:g}=await e.from("website_sections").update({...b,updated_by:f.id,updated_at:new Date().toISOString()}).eq("id",a);if(g)throw Error(g.message);return(0,d.revalidatePath)("/dashboard/website/builder"),(0,d.revalidatePath)("/"),{success:!0}}async function h(a){let b=(0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Unauthorized");let{error:f}=await b.from("website_sections").insert({...a,updated_by:e.id});if(f)throw Error(f.message);return(0,d.revalidatePath)("/dashboard/website/builder"),(0,d.revalidatePath)("/"),{success:!0}}async function i(a){let b=(0,c.createClient)(),{error:e}=await b.from("website_sections").delete().eq("id",a);if(e)throw Error(e.message);return(0,d.revalidatePath)("/dashboard/website/builder"),(0,d.revalidatePath)("/"),{success:!0}}async function j(a){let b=(0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Unauthorized");let{data:f,error:g}=await b.from("website_sections").select("*").eq("id",a).single();if(g)throw Error(g.message);let{error:h}=await b.from("website_sections").insert({section_key:`${f.section_key}_copy_${Date.now()}`,page:f.page,section_type:f.section_type,title:`${f.title} (Copy)`,subtitle:f.subtitle,content:f.content,is_visible:!1,order_index:f.order_index+1,updated_by:e.id});if(h)throw Error(h.message);return(0,d.revalidatePath)("/dashboard/website/builder"),{success:!0}}async function k(a,b){let e=(0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)throw Error("Unauthorized");let{error:g}=await e.from("website_sections").update({is_visible:!b,updated_by:f.id,updated_at:new Date().toISOString()}).eq("id",a);if(g)throw Error(g.message);return(0,d.revalidatePath)("/dashboard/website/builder"),(0,d.revalidatePath)("/"),{success:!0,newStatus:!b}}async function l(a){let b=(0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Unauthorized");let f=a.map(a=>b.from("website_sections").update({order_index:a.order_index,updated_by:e.id,updated_at:new Date().toISOString()}).eq("id",a.id));return await Promise.all(f),(0,d.revalidatePath)("/dashboard/website/builder"),(0,d.revalidatePath)("/"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i,j,k,l]),(0,b.registerServerReference)(e,"40c83ab34517a0288c8210addee654fd2d166e271f",null),(0,b.registerServerReference)(f,"407766db7a21ce356e8373ae24ba54e8304a29ad63",null),(0,b.registerServerReference)(g,"60ad15dae7806a98724a7c28dcb98bea1e81174752",null),(0,b.registerServerReference)(h,"40ef848db88973131258433ec4e303a9cc49eae40c",null),(0,b.registerServerReference)(i,"40350dfa6ee98d66f2b66eff338731db7a131ff068",null),(0,b.registerServerReference)(j,"4065dbfb8302a4eb10d11eb4a3059fdabb0b71025f",null),(0,b.registerServerReference)(k,"606bcb8e46f4457ea74cb08a402f66f2478daa8b4b",null),(0,b.registerServerReference)(l,"40559c3b7beb0c2b585effe228b50930f473c7a9bf",null),a.s(["deleteSection",()=>i,"duplicateSection",()=>j,"getSectionById",()=>f,"getSections",()=>e,"reorderSections",()=>l,"toggleSectionVisibility",()=>k,"updateSection",()=>g])},86537,a=>{"use strict";var b=a.i(54918);a.s([],62957),a.i(62957),a.s(["407766db7a21ce356e8373ae24ba54e8304a29ad63",()=>b.getSectionById,"60ad15dae7806a98724a7c28dcb98bea1e81174752",()=>b.updateSection],86537)}];

//# sourceMappingURL=_4000139b._.js.map