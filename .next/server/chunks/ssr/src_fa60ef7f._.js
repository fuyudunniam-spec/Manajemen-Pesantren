module.exports=[54614,a=>{"use strict";var b=a.i(72131);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["useToast",()=>j])},78548,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99464),f=a.i(81560),g=a.i(77156),h=a.i(41379),i=a.i(99570),j=a.i(6015),k=a.i(86304),l=a.i(5050);let m=(0,l.createServerReference)("40f87eda7a8a5c6ee9a26184faf2000f03182fc17f",l.callServer,void 0,l.findSourceMapURL,"deleteBlogPost"),n=(0,l.createServerReference)("60640128274db0c02ba5aaab1baaf900c50e9eb0e5",l.callServer,void 0,l.findSourceMapURL,"togglePublishStatus");var o=a.i(86192),p=a.i(54614);function q({name:a,color:c,className:d}){return(0,b.jsx)(k.Badge,{className:`border ${d}`,style:{backgroundColor:`${c}15`,borderColor:c,color:c},children:a})}function r({posts:a}){let l=(0,d.useRouter)(),{toast:r}=(0,p.useToast)(),[s,t]=(0,c.useState)(a),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("all"),A=s.filter(a=>"published"===y?a.is_published:"draft"!==y||!a.is_published),B=async(a,b)=>{try{await n(a,!b),t(c=>c.map(c=>c.id===a?{...c,is_published:!b}:c)),r({title:"Berhasil",description:b?"Artikel dijadikan draft":"Artikel dipublikasikan"}),l.refresh()}catch(a){r({title:"Error",description:"Gagal mengubah status publikasi",variant:"destructive"})}},C=async()=>{if(u){x(!0);try{await m(u),t(a=>a.filter(a=>a.id!==u)),r({title:"Berhasil",description:"Artikel berhasil dihapus"}),l.refresh()}catch(a){r({title:"Error",description:a.message||"Gagal menghapus artikel",variant:"destructive"})}finally{x(!1),v(null)}}},D=a=>new Date(a).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,b.jsxs)(i.Button,{variant:"all"===y?"default":"outline",size:"sm",onClick:()=>z("all"),className:"all"===y?"bg-emerald-600 hover:bg-emerald-700":"",children:["Semua (",s.length,")"]}),(0,b.jsxs)(i.Button,{variant:"published"===y?"default":"outline",size:"sm",onClick:()=>z("published"),className:"published"===y?"bg-emerald-600 hover:bg-emerald-700":"",children:["Terpublikasi (",s.filter(a=>a.is_published).length,")"]}),(0,b.jsxs)(i.Button,{variant:"draft"===y?"default":"outline",size:"sm",onClick:()=>z("draft"),className:"draft"===y?"bg-emerald-600 hover:bg-emerald-700":"",children:["Draft (",s.filter(a=>!a.is_published).length,")"]})]}),(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Judul"}),(0,b.jsx)(j.TableHead,{children:"Kategori"}),(0,b.jsx)(j.TableHead,{children:"Tanggal"}),(0,b.jsx)(j.TableHead,{children:"Status"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Aksi"})]})}),(0,b.jsx)(j.TableBody,{children:0===A.length?(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:5,className:"text-center text-slate-500 py-8",children:"all"===y?"Belum ada artikel":`Tidak ada artikel ${"published"===y?"terpublikasi":"draft"}`})}):A.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-slate-500 line-clamp-1",children:a.excerpt})]})}),(0,b.jsx)(j.TableCell,{children:a.blog_categories?(0,b.jsx)(q,{name:a.blog_categories.name,color:a.blog_categories.color}):(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"-"})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)("div",{className:"text-sm text-slate-600",children:a.is_published&&a.published_at?D(a.published_at):D(a.created_at)})}),(0,b.jsx)(j.TableCell,{children:a.is_published?(0,b.jsx)(k.Badge,{variant:"default",className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Terpublikasi"}):(0,b.jsx)(k.Badge,{variant:"secondary",children:"Draft"})}),(0,b.jsx)(j.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>B(a.id,a.is_published),title:a.is_published?"Jadikan Draft":"Publikasikan",children:a.is_published?(0,b.jsx)(h.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(g.Eye,{className:"w-4 h-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>l.push(`/dashboard/website/blog/${a.id}`),children:(0,b.jsx)(e.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)(i.Button,{variant:"ghost",size:"icon",onClick:()=>v(a.id),children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4 text-red-500"})})]})})]},a.id))})]}),(0,b.jsx)(o.AlertDialog,{open:!!u,onOpenChange:()=>v(null),children:(0,b.jsxs)(o.AlertDialogContent,{children:[(0,b.jsxs)(o.AlertDialogHeader,{children:[(0,b.jsx)(o.AlertDialogTitle,{children:"Hapus Artikel?"}),(0,b.jsx)(o.AlertDialogDescription,{children:"Tindakan ini tidak dapat dibatalkan. Artikel akan dihapus secara permanen."})]}),(0,b.jsxs)(o.AlertDialogFooter,{children:[(0,b.jsx)(o.AlertDialogCancel,{disabled:w,children:"Batal"}),(0,b.jsx)(o.AlertDialogAction,{onClick:C,disabled:w,className:"bg-red-600 hover:bg-red-700",children:w?"Menghapus...":"Hapus"})]})]})})]})}a.s(["BlogPostList",()=>r],78548)}];

//# sourceMappingURL=src_fa60ef7f._.js.map