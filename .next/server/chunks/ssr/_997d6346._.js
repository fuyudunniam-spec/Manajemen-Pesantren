module.exports=[57247,a=>{"use strict";var b=a.i(37936),c=a.i(16349),d=a.i(18558);async function e(){let a=(0,c.createClient)(),{data:b,error:d}=await a.from("website_themes").select("*").eq("key","default").single();return d?(console.error("Error fetching theme:",d),null):b}async function f(a){let b=(0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Unauthorized");let{error:f}=await b.from("website_themes").update({...a,updated_by:e.id,updated_at:new Date().toISOString()}).eq("key","default");if(f)throw Error(f.message);return(0,d.revalidatePath)("/","layout"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([e,f]),(0,b.registerServerReference)(e,"002c3c1ba4b3794b9f598d4bc16943f4eb8e725167",null),(0,b.registerServerReference)(f,"4084d33582ac0f3f4293cc9841885d69efd70d0a7f",null),a.s(["getTheme",()=>e,"updateTheme",()=>f])},33094,a=>{"use strict";var b=a.i(37936),c=a.i(16349),d=a.i(18558);async function e(a=!1){let b=(0,c.createClient)().from("blog_categories").select("*").order("display_order",{ascending:!0});a||(b=b.eq("is_active",!0));let{data:d,error:f}=await b;return f?(console.error("Error fetching categories:",f),[]):d}async function f(a){let b=(0,c.createClient)(),{data:d,error:e}=await b.from("blog_categories").select("*").eq("slug",a).single();return e?(console.error("Error fetching category:",e),null):d}async function g(a){let b=(0,c.createClient)(),e=a.get("name"),f=a.get("slug"),g=a.get("description"),h=a.get("color"),i=a.get("icon"),j=parseInt(a.get("display_order"))||0,{data:k,error:l}=await b.from("blog_categories").insert({name:e,slug:f,description:g,color:h,icon:i,display_order:j,is_active:!0}).select().single();if(l)throw console.error("Error creating category:",l),Error(l.message);return(0,d.revalidatePath)("/dashboard/website/categories"),(0,d.revalidatePath)("/berita"),k}async function h(a,b){let e=(0,c.createClient)(),f=b.get("name"),g=b.get("slug"),h=b.get("description"),i=b.get("color"),j=b.get("icon"),k=parseInt(b.get("display_order"))||0,l="true"===b.get("is_active"),{data:m,error:n}=await e.from("blog_categories").update({name:f,slug:g,description:h,color:i,icon:j,display_order:k,is_active:l,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(n)throw console.error("Error updating category:",n),Error(n.message);return(0,d.revalidatePath)("/dashboard/website/categories"),(0,d.revalidatePath)("/berita"),m}async function i(a){let b=(0,c.createClient)(),{count:e}=await b.from("blog_posts").select("*",{count:"exact",head:!0}).eq("category_id",a);if(e&&e>0)throw Error("Cannot delete category with existing posts");let{error:f}=await b.from("blog_categories").delete().eq("id",a);if(f)throw console.error("Error deleting category:",f),Error(f.message);(0,d.revalidatePath)("/dashboard/website/categories"),(0,d.revalidatePath)("/berita")}async function j(a,b){let e=(0,c.createClient)(),{error:f}=await e.from("blog_categories").update({is_active:b,updated_at:new Date().toISOString()}).eq("id",a);if(f)throw console.error("Error toggling category status:",f),Error(f.message);(0,d.revalidatePath)("/dashboard/website/categories"),(0,d.revalidatePath)("/berita")}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i,j]),(0,b.registerServerReference)(e,"406e8e33f5d2f1967380c6a26ecfbd6502c2cc9153",null),(0,b.registerServerReference)(f,"409f0a7e035bebd528e6a5fcfa13d9a2ad15707580",null),(0,b.registerServerReference)(g,"409fea0b7d826303caf40d9bddc8e9e90cd3082694",null),(0,b.registerServerReference)(h,"605580fa537660835c94d950b0d3a92f6c38da6c8a",null),(0,b.registerServerReference)(i,"405787cbef621eda199f740e26546bc9ca54bcdb48",null),(0,b.registerServerReference)(j,"60ec41901c8e65571eae9f01c1db1562f742c2dcb0",null),a.s(["createCategory",()=>g,"deleteCategory",()=>i,"getCategories",()=>e,"getCategory",()=>f,"toggleCategoryStatus",()=>j,"updateCategory",()=>h])},82376,a=>{"use strict";var b=a.i(37936),c=a.i(16349),d=a.i(18558);async function e(a){let b=(0,c.createClient)().from("blog_posts").select(`
      *,
      blog_categories (
        id,
        name,
        slug,
        color
      )
    `).order("created_at",{ascending:!1});a?.published!==void 0&&(b=b.eq("is_published",a.published)),a?.categoryId&&(b=b.eq("category_id",a.categoryId)),a?.search&&(b=b.or(`title.ilike.%${a.search}%,excerpt.ilike.%${a.search}%`)),a?.limit&&(b=b.limit(a.limit)),a?.offset&&(b=b.range(a.offset,a.offset+(a.limit||10)-1));let{data:d,error:e}=await b;return e?(console.error("Error fetching blog posts:",e),[]):d}async function f(a){let b=(0,c.createClient)(),{data:d,error:e}=await b.from("blog_posts").select(`
      *,
      blog_categories (
        id,
        name,
        slug,
        color
      )
    `).eq("slug",a).single();return e?(console.error("Error fetching blog post:",e),null):d}async function g(a){let b=(0,c.createClient)(),{data:d,error:e}=await b.from("blog_posts").select(`
      *,
      blog_categories (
        id,
        name,
        slug,
        color
      )
    `).eq("id",a).single();return e?(console.error("Error fetching blog post:",e),null):d}async function h(a){let b=(0,c.createClient)(),{data:{user:e}}=await b.auth.getUser();if(!e)throw Error("Not authenticated");let f=a.get("title"),g=a.get("slug"),h=a.get("excerpt"),i=a.get("content"),j=a.get("featured_image"),k=a.get("image_caption"),l=a.get("category_id"),m=a.get("tags"),n="true"===a.get("is_published"),{data:o,error:p}=await b.from("blog_posts").insert({title:f,slug:g,excerpt:h,content:i,featured_image:j,image_caption:k,category_id:l||null,tags:m?m.split(",").map(a=>a.trim()):[],is_published:n,published_at:n?new Date().toISOString():null,created_by:e.id,updated_by:e.id}).select().single();if(p)throw console.error("Error creating blog post:",p),Error(p.message);return(0,d.revalidatePath)("/dashboard/website/blog"),(0,d.revalidatePath)("/berita"),o}async function i(a,b){let e=(0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)throw Error("Not authenticated");let h=b.get("title"),i=b.get("slug"),j=b.get("excerpt"),k=b.get("content"),l=b.get("featured_image"),m=b.get("image_caption"),n=b.get("category_id"),o=b.get("tags"),p="true"===b.get("is_published"),q=await g(a),r=q&&!q.is_published,{data:s,error:t}=await e.from("blog_posts").update({title:h,slug:i,excerpt:j,content:k,featured_image:l,image_caption:m,category_id:n||null,tags:o?o.split(",").map(a=>a.trim()):[],is_published:p,published_at:p&&r?new Date().toISOString():q?.published_at,updated_by:f.id,updated_at:new Date().toISOString()}).eq("id",a).select().single();if(t)throw console.error("Error updating blog post:",t),Error(t.message);return(0,d.revalidatePath)("/dashboard/website/blog"),(0,d.revalidatePath)("/berita"),(0,d.revalidatePath)(`/berita/${i}`),s}async function j(a){let b=(0,c.createClient)(),{error:e}=await b.from("blog_posts").delete().eq("id",a);if(e)throw console.error("Error deleting blog post:",e),Error(e.message);(0,d.revalidatePath)("/dashboard/website/blog"),(0,d.revalidatePath)("/berita")}async function k(a,b){let e=(0,c.createClient)(),{data:{user:f}}=await e.auth.getUser();if(!f)throw Error("Not authenticated");let h={is_published:b,updated_by:f.id,updated_at:new Date().toISOString()};if(b){let b=await g(a);b&&!b.published_at&&(h.published_at=new Date().toISOString())}let{error:i}=await e.from("blog_posts").update(h).eq("id",a);if(i)throw console.error("Error toggling publish status:",i),Error(i.message);(0,d.revalidatePath)("/dashboard/website/blog"),(0,d.revalidatePath)("/berita")}(0,a.i(13095).ensureServerEntryExports)([e,f,g,h,i,j,k]),(0,b.registerServerReference)(e,"40cbf0bbe7b53e6dd4bfe209d9e4ce70c6b811ddc9",null),(0,b.registerServerReference)(f,"40063d1779801464c4c64accdff167aff5b2253b7d",null),(0,b.registerServerReference)(g,"401873d7a3baf0ce4da93a44cb6fb62e0e516a8c7d",null),(0,b.registerServerReference)(h,"40ef95bca06b01a857a28c0b420df332dce5c7712f",null),(0,b.registerServerReference)(i,"60142dd1a0156de72ad66757fac963397e6e8929b6",null),(0,b.registerServerReference)(j,"40f87eda7a8a5c6ee9a26184faf2000f03182fc17f",null),(0,b.registerServerReference)(k,"60640128274db0c02ba5aaab1baaf900c50e9eb0e5",null),a.s(["createBlogPost",()=>h,"deleteBlogPost",()=>j,"getBlogPost",()=>f,"getBlogPostById",()=>g,"getBlogPosts",()=>e,"togglePublishStatus",()=>k,"updateBlogPost",()=>i])},97678,a=>{"use strict";var b=a.i(57247),c=a.i(82376),d=a.i(33094);a.s([],54870),a.i(54870),a.s(["002c3c1ba4b3794b9f598d4bc16943f4eb8e725167",()=>b.getTheme,"40063d1779801464c4c64accdff167aff5b2253b7d",()=>c.getBlogPost,"401873d7a3baf0ce4da93a44cb6fb62e0e516a8c7d",()=>c.getBlogPostById,"405787cbef621eda199f740e26546bc9ca54bcdb48",()=>d.deleteCategory,"406e8e33f5d2f1967380c6a26ecfbd6502c2cc9153",()=>d.getCategories,"4084d33582ac0f3f4293cc9841885d69efd70d0a7f",()=>b.updateTheme,"409f0a7e035bebd528e6a5fcfa13d9a2ad15707580",()=>d.getCategory,"409fea0b7d826303caf40d9bddc8e9e90cd3082694",()=>d.createCategory,"40cbf0bbe7b53e6dd4bfe209d9e4ce70c6b811ddc9",()=>c.getBlogPosts,"40ef95bca06b01a857a28c0b420df332dce5c7712f",()=>c.createBlogPost,"40f87eda7a8a5c6ee9a26184faf2000f03182fc17f",()=>c.deleteBlogPost,"60142dd1a0156de72ad66757fac963397e6e8929b6",()=>c.updateBlogPost,"605580fa537660835c94d950b0d3a92f6c38da6c8a",()=>d.updateCategory,"60640128274db0c02ba5aaab1baaf900c50e9eb0e5",()=>c.togglePublishStatus,"60ec41901c8e65571eae9f01c1db1562f742c2dcb0",()=>d.toggleCategoryStatus],97678)}];

//# sourceMappingURL=_997d6346._.js.map