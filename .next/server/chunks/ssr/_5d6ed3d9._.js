module.exports=[210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},14429,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(91119),g=a.i(66718),h=a.i(70430),i=a.i(29246),j=a.i(210),k=a.i(14548),l=a.i(96221),m=a.i(23292),n=a.i(91195),o=a.i(5050);let p=(0,o.createServerReference)("407766db7a21ce356e8373ae24ba54e8304a29ad63",o.callServer,void 0,o.findSourceMapURL,"getSectionById"),q=(0,o.createServerReference)("60ad15dae7806a98724a7c28dcb98bea1e81174752",o.callServer,void 0,o.findSourceMapURL,"updateSection");function r(){let a=(0,d.useRouter)(),o=(0,d.useParams)(),r=o?.sectionId,[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({});(0,c.useEffect)(()=>{r&&A()},[r]);let A=async()=>{try{let a=await p(r);x(a),z(a.content||{})}catch(b){m.toast.error("Gagal memuat data",{description:b.message}),a.push("/dashboard/website/builder")}finally{t(!1)}},B=async()=>{v(!0);try{await q(r,{content:y,title:y.title||w.title}),m.toast.success("Section berhasil disimpan"),a.push("/dashboard/website/builder")}catch(a){m.toast.error("Gagal menyimpan",{description:a.message})}finally{v(!1)}};return s?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-emerald-600"})}):(0,b.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>a.push("/dashboard/website/builder"),children:(0,b.jsx)(j.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-display font-bold text-slate-900",children:["Edit Section: ",w.title]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Type: ",w.section_type," â€¢ Page: ",w.page]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Section Content"})}),(0,b.jsx)(f.CardContent,{children:(()=>{switch(w.section_type){case"hero":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Judul"}),(0,b.jsx)(g.Input,{value:y.title||"",onChange:a=>z({...y,title:a.target.value}),placeholder:"Selamat Datang di e-Maktab"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Subtitle"}),(0,b.jsx)(i.Textarea,{value:y.subtitle||"",onChange:a=>z({...y,subtitle:a.target.value}),placeholder:"Sistem informasi manajemen pesantren modern",className:"resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Background Image"}),(0,b.jsx)(n.MediaUpload,{defaultValue:y.background_image||"",onUploadComplete:a=>z({...y,background_image:a}),bucket:"website-assets"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Button Text"}),(0,b.jsx)(g.Input,{value:y.button_text||"",onChange:a=>z({...y,button_text:a.target.value}),placeholder:"Daftar Sekarang"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Button Link"}),(0,b.jsx)(g.Input,{value:y.button_link||"",onChange:a=>z({...y,button_link:a.target.value}),placeholder:"/psb"})]})]})]});case"features":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Section Title"}),(0,b.jsx)(g.Input,{value:y.title||"",onChange:a=>z({...y,title:a.target.value}),placeholder:"Fitur Unggulan"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Section Subtitle"}),(0,b.jsx)(i.Textarea,{value:y.subtitle||"",onChange:a=>z({...y,subtitle:a.target.value}),placeholder:"Description...",className:"resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Features (JSON Array)"}),(0,b.jsx)(i.Textarea,{value:JSON.stringify(y.features||[],null,2),onChange:a=>{try{let b=JSON.parse(a.target.value);z({...y,features:b})}catch{}},placeholder:'[{"icon": "check", "title": "Feature 1", "description": "..."}]',className:"font-mono resize-none min-h-[200px]"})]})]});case"cta":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Headline"}),(0,b.jsx)(g.Input,{value:y.headline||"",onChange:a=>z({...y,headline:a.target.value}),placeholder:"Siap Bergabung?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Description"}),(0,b.jsx)(i.Textarea,{value:y.description||"",onChange:a=>z({...y,description:a.target.value}),className:"resize-none"})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Button Text"}),(0,b.jsx)(g.Input,{value:y.button_text||"",onChange:a=>z({...y,button_text:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Button Link"}),(0,b.jsx)(g.Input,{value:y.button_link||"",onChange:a=>z({...y,button_link:a.target.value})})]})]})]});case"stats":return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Stats (JSON Array)"}),(0,b.jsx)(i.Textarea,{value:JSON.stringify(y.stats||[],null,2),onChange:a=>{try{let b=JSON.parse(a.target.value);z({...y,stats:b})}catch{}},placeholder:'[{"label": "Santri", "value": "500+", "icon": "users"}]',className:"font-mono resize-none min-h-[200px]"})]})});case"contact":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Title"}),(0,b.jsx)(g.Input,{value:y.title||"",onChange:a=>z({...y,title:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Email"}),(0,b.jsx)(g.Input,{type:"email",value:y.email||"",onChange:a=>z({...y,email:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Phone"}),(0,b.jsx)(g.Input,{value:y.phone||"",onChange:a=>z({...y,phone:a.target.value})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Address"}),(0,b.jsx)(i.Textarea,{value:y.address||"",onChange:a=>z({...y,address:a.target.value}),className:"resize-none"})]})]});default:return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{children:"Content (JSON)"}),(0,b.jsx)(i.Textarea,{value:JSON.stringify(y,null,2),onChange:a=>{try{let b=JSON.parse(a.target.value);z(b)}catch{}},className:"font-mono resize-none min-h-[400px]"})]})})}})()})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>a.push("/dashboard/website/builder"),children:"Batal"}),(0,b.jsxs)(e.Button,{onClick:B,disabled:u,className:"gap-2 bg-emerald-600 hover:bg-emerald-700",children:[u?(0,b.jsx)(l.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(k.Save,{className:"w-4 h-4"}),"Simpan"]})]})]})}a.s(["default",()=>r],14429)}];

//# sourceMappingURL=_5d6ed3d9._.js.map