module.exports=[56783,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(63563),g=a.i(99570),h=a.i(91119),i=a.i(66718),j=a.i(70430),k=a.i(29246),l=a.i(91195),m=a.i(14548),n=a.i(96221),o=a.i(21161),p=a.i(77156);let q=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var r=a.i(15618),s=a.i(81560),t=a.i(23292),u=a.i(5050);let v=(0,u.createServerReference)("004fb8d5b11a43062a41be4160cd9efefce05d108e",u.callServer,void 0,u.findSourceMapURL,"getWebsiteSettings"),w=(0,u.createServerReference)("4088b63aaf8b4bd4cf8c4be4220b0e19a3b19f7a47",u.callServer,void 0,u.findSourceMapURL,"updateWebsiteSettings");var x=a.i(41921);let y=f.object({site_title:f.string().min(1,"Nama wajib diisi"),site_tagline:f.string().optional(),site_description:f.string().optional(),site_logo:f.string().optional(),site_logo_small:f.string().optional(),footer_text:f.string().optional(),contact_whatsapp:f.string().optional(),contact_email:f.string().email("Email tidak valid").optional().or(f.literal("")),contact_phone:f.string().optional(),contact_address:f.string().optional()});function z(){let[a,f]=(0,c.useState)(!0),[u,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)([]),C=(0,d.useForm)({resolver:(0,e.zodResolver)(y),defaultValues:{site_title:"",site_tagline:"",site_description:"",site_logo:"",site_logo_small:"",footer_text:"",contact_whatsapp:"",contact_email:"",contact_phone:"",contact_address:""}});(0,c.useEffect)(()=>{D()},[]);let D=async()=>{try{let a=await v();if(C.reset({site_title:a.site_title||"",site_tagline:a.site_tagline||"",site_description:a.site_description||"",site_logo:a.site_logo||"",site_logo_small:a.site_logo_small||"",footer_text:a.footer_text||"",contact_whatsapp:a.contact_whatsapp||"",contact_email:a.contact_email||"",contact_phone:a.contact_phone||"",contact_address:a.contact_address||""}),a.social_links)try{B(JSON.parse(a.social_links))}catch{B([])}}catch(a){t.toast.error("Gagal memuat pengaturan",{description:a.message})}finally{f(!1)}},E=async a=>{z(!0);try{await w({...a,social_links:JSON.stringify(A)}),t.toast.success("Pengaturan berhasil disimpan",{description:"Perubahan akan langsung muncul di website publik"})}catch(a){t.toast.error("Gagal menyimpan",{description:a.message})}finally{z(!1)}},F=(a,b,c)=>{let d=[...A];d[a][b]=c,B(d)};return a?(0,b.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-emerald-600"})}):(0,b.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:(0,b.jsx)(o.Settings,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-display font-bold text-slate-900",children:"Pengaturan Website"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Konfigurasi identitas dan tampilan website"})]})]}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",asChild:!0,className:"gap-2",children:(0,b.jsxs)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(p.Eye,{className:"w-4 h-4"}),"Lihat Website",(0,b.jsx)(q,{className:"w-3 h-3"})]})})]}),(0,b.jsx)(x.Form,{...C,children:(0,b.jsxs)("form",{onSubmit:C.handleSubmit(E),className:"space-y-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Logo & Branding"}),(0,b.jsx)(h.CardDescription,{children:"Logo yang ditampilkan di header, footer, dan halaman website"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(x.FormField,{control:C.control,name:"site_logo",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Logo Utama"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(l.MediaUpload,{defaultValue:a.value,onUploadComplete:a.onChange,bucket:"website-assets"})}),(0,b.jsx)(x.FormDescription,{children:"Digunakan di header dan footer website"}),(0,b.jsx)(x.FormMessage,{})]})}),(0,b.jsx)(x.FormField,{control:C.control,name:"site_logo_small",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Logo Kecil (Favicon)"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(l.MediaUpload,{defaultValue:a.value,onUploadComplete:a.onChange,bucket:"website-assets"})}),(0,b.jsx)(x.FormDescription,{children:"Versi kecil untuk tab browser dan mobile"}),(0,b.jsx)(x.FormMessage,{})]})})]}),C.watch("site_logo")&&(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,b.jsx)(j.Label,{className:"mb-2 block text-xs text-slate-500",children:"Preview Header:"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("img",{src:C.watch("site_logo"),alt:"Logo Preview",className:"w-12 h-12 rounded-xl object-contain bg-white p-1 border"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-display font-bold text-lg",children:C.watch("site_title")||"e-Maktab"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 -mt-0.5",children:C.watch("site_tagline")||"Pondok Pesantren"})]})]})]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Identitas Website"}),(0,b.jsx)(h.CardDescription,{children:"Nama dan tagline yang ditampilkan di header dan halaman website"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(x.FormField,{control:C.control,name:"site_title",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Nama Aplikasi / Pesantren"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"e-Maktab",...a})}),(0,b.jsx)(x.FormMessage,{})]})}),(0,b.jsx)(x.FormField,{control:C.control,name:"site_tagline",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Tagline"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"Pondok Pesantren Modern",...a})}),(0,b.jsx)(x.FormMessage,{})]})})]}),(0,b.jsx)(x.FormField,{control:C.control,name:"site_description",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Deskripsi Meta (SEO)"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Deskripsi singkat untuk mesin pencari (Google, Bing, dll)...",className:"resize-none min-h-[100px]",...a})}),(0,b.jsx)(x.FormDescription,{children:"Digunakan di meta tag description untuk SEO"}),(0,b.jsx)(x.FormMessage,{})]})})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Informasi Kontak"}),(0,b.jsx)(h.CardDescription,{children:"Kontak yang ditampilkan di website publik"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsx)(x.FormField,{control:C.control,name:"contact_whatsapp",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"WhatsApp"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"62812XXXXXXXX (format internasional)",...a})}),(0,b.jsx)(x.FormDescription,{children:"Gunakan format internasional tanpa +, contoh: 62812XXXX"}),(0,b.jsx)(x.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsx)(x.FormField,{control:C.control,name:"contact_email",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Email"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(i.Input,{type:"email",placeholder:"info@pesantren.ac.id",...a})}),(0,b.jsx)(x.FormMessage,{})]})}),(0,b.jsx)(x.FormField,{control:C.control,name:"contact_phone",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Telepon"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"(0274) XXXXXX",...a})}),(0,b.jsx)(x.FormMessage,{})]})})]}),(0,b.jsx)(x.FormField,{control:C.control,name:"contact_address",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Alamat"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Alamat lengkap pesantren...",className:"resize-none min-h-[80px]",...a})}),(0,b.jsx)(x.FormMessage,{})]})})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Media Sosial"}),(0,b.jsx)(h.CardDescription,{children:"Tambahkan link ke akun media sosial pesantren"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[A.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(i.Input,{placeholder:"Label (Facebook, Instagram, dll)",value:a.label,onChange:a=>F(c,"label",a.target.value),className:"flex-1"}),(0,b.jsx)(i.Input,{placeholder:"URL lengkap",value:a.url,onChange:a=>F(c,"url",a.target.value),className:"flex-[2]"}),(0,b.jsx)(g.Button,{type:"button",variant:"outline",size:"icon",onClick:()=>{B(A.filter((a,b)=>b!==c))},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(s.Trash2,{className:"w-4 h-4"})})]},c)),(0,b.jsxs)(g.Button,{type:"button",variant:"outline",onClick:()=>{B([...A,{icon:"facebook",label:"Facebook",url:""}])},className:"w-full gap-2",children:[(0,b.jsx)(r.Plus,{className:"w-4 h-4"}),"Tambah Media Sosial"]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Footer"}),(0,b.jsx)(h.CardDescription,{children:"Konten yang ditampilkan di bagian bawah website"})]}),(0,b.jsx)(h.CardContent,{children:(0,b.jsx)(x.FormField,{control:C.control,name:"footer_text",render:({field:a})=>(0,b.jsxs)(x.FormItem,{children:[(0,b.jsx)(x.FormLabel,{children:"Teks Footer / Motto"}),(0,b.jsx)(x.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Membentuk generasi Qurani yang berakhlak mulia, berilmu, dan bermanfaat bagi umat.",className:"resize-none min-h-[80px]",...a})}),(0,b.jsx)(x.FormDescription,{children:"Ditampilkan di sebelah logo footer sebagai deskripsi singkat"}),(0,b.jsx)(x.FormMessage,{})]})})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsxs)(g.Button,{type:"submit",disabled:u,className:"gap-2 bg-emerald-600 hover:bg-emerald-700 text-white min-w-[200px]",size:"lg",children:[u?(0,b.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(m.Save,{className:"w-4 h-4"}),"Simpan Perubahan"]})})]})})]})}a.s(["default",()=>z],56783)}];

//# sourceMappingURL=src_app_%28dashboard%29_website_settings_page_tsx_03b42124._.js.map