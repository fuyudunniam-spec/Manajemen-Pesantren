module.exports=[87698,a=>{"use strict";var b=a.i(87924),c=a.i(38398),d=a.i(14482),e=a.i(79195);async function f({children:a}){var f;let g=(f=await (0,e.getTheme)())?`
        --primary-color: ${f.primary_color};
        --secondary-color: ${f.secondary_color};
        --accent-color: ${f.accent_color};
        --background-color: ${f.background_color};
        --foreground-color: ${f.foreground_color};
        --heading-font: ${f.heading_font};
        --body-font: ${f.body_font};
        --border-radius: ${f.border_radius};
    `.trim():"";return(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",style:{cssText:g},children:[(0,b.jsx)(c.PublicHeader,{}),(0,b.jsx)("main",{className:"flex-1 pt-16 md:pt-20",children:a}),(0,b.jsx)(d.PublicFooter,{})]})}a.s(["PublicLayout",()=>f],87698)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},72692,a=>{"use strict";let b=(0,a.i(70106).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);a.s(["Menu",()=>b],72692)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},79195,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("002c3c1ba4b3794b9f598d4bc16943f4eb8e725167",b.callServer,void 0,b.findSourceMapURL,"getTheme");a.s(["getTheme",()=>c])},88045,a=>{"use strict";let b=(0,a.i(77687).createClient)();a.s(["supabase",0,b])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},73570,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],73570)},32636,a=>{"use strict";var b=a.i(72131);let c=(0,a.i(77687).createClient)();function d(){let[a,d]=(0,b.useState)(null),[e,f]=(0,b.useState)(null),[g,h]=(0,b.useState)(null),[i,j]=(0,b.useState)(!0);(0,b.useEffect)(()=>{c.auth.getSession().then(({data:{session:a}})=>{h(a),d(a?.user??null),a?.user?k(a.user.id):j(!1)});let{data:{subscription:a}}=c.auth.onAuthStateChange((a,b)=>{h(b),d(b?.user??null),b?.user?k(b.user.id):(f(null),j(!1))});return()=>a.unsubscribe()},[]);let k=async a=>{try{let{data:b,error:d}=await c.from("profiles").select("*, roles(*)").eq("id",a).single();if(d)throw d;f(b)}catch(a){console.error("Error fetching profile:",a)}finally{j(!1)}};return{user:a,profile:e,session:g,loading:i,signIn:async(a,b)=>{let{data:d,error:e}=await c.auth.signInWithPassword({email:a,password:b});return{data:d,error:e}},signOut:async()=>{let{error:a}=await c.auth.signOut();return a||(d(null),f(null),h(null)),{error:a}}}}a.s(["useAuth",()=>d])},69608,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(88045),f=a.i(32636),g=a.i(87698),h=a.i(96221),i=a.i(73570);function j(){let a=(0,d.useParams)(),j=(0,d.useSearchParams)(),{user:k}=(0,f.useAuth)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),p=a?.slug,q=j?.get("preview")==="true";return((0,c.useEffect)(()=>{!async function(){if(!p)return o(!1);try{let a=e.supabase.from("website_pages").select("*").eq("slug",p);q&&k||(a=a.eq("is_published",!0));let{data:b,error:c}=await a.single();if(c)throw c;m(b),b.title&&(document.title=`${b.title} - e-Maktab`)}catch(a){console.error("Error fetching page:",a),m(null)}finally{o(!1)}}()},[p,q,k]),n)?(0,b.jsx)(g.PublicLayout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,b.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-primary"})})}):l?(0,b.jsxs)(g.PublicLayout,{children:[q&&l&&!l.is_published&&(0,b.jsxs)("div",{className:"bg-amber-500 text-amber-950 px-4 py-2 text-center text-sm font-medium flex items-center justify-center gap-2",children:[(0,b.jsx)(i.AlertTriangle,{className:"w-4 h-4"}),"Mode Preview - Halaman ini belum dipublikasikan"]}),l.hero_image&&(0,b.jsxs)("section",{className:"relative h-96 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${l.hero_image})`},children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/40"}),(0,b.jsx)("div",{className:"relative container mx-auto px-4 h-full flex items-center",children:(0,b.jsx)("div",{className:"max-w-3xl",children:(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white mb-4",children:l.title})})})]}),!l.hero_image&&(0,b.jsx)("section",{className:"bg-gradient-to-br from-primary to-primary-dark py-16",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-white",children:l.title})})}),(0,b.jsx)("section",{className:"py-16 bg-background",children:(0,b.jsx)("div",{className:"container mx-auto px-4",children:(0,b.jsx)("div",{className:"prose prose-lg prose-slate max-w-none    prose-headings:font-display prose-headings:text-foreground   prose-p:text-muted-foreground prose-p:leading-relaxed   prose-a:text-primary prose-a:no-underline hover:prose-a:underline   prose-strong:text-foreground prose-strong:font-semibold   prose-img:rounded-xl prose-img:shadow-lg",dangerouslySetInnerHTML:{__html:l.content}})})})]}):(0,b.jsx)(g.PublicLayout,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[(0,b.jsx)("h1",{className:"text-4xl font-display font-bold text-slate-900 mb-4",children:"404"}),(0,b.jsx)("p",{className:"text-slate-600 mb-8",children:"Halaman tidak ditemukan"})]})})}a.s(["default",()=>j])}];

//# sourceMappingURL=_99a47b08._.js.map